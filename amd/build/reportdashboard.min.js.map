{"version":3,"file":"reportdashboard.min.js","sources":["../src/reportdashboard.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Describe the module reportdashboard information\n *\n * @module     block_reportdashboard/reportdashboard\n * @copyright  2023 Moodle India Information Solutions Private Limited\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'core/ajax',\n        'block_learnerscript/report',\n        'block_learnerscript/reportwidget',\n        'block_learnerscript/schedule',\n        'block_learnerscript/helper',\n        'block_learnerscript/ajax',\n        'block_learnerscript/select2/select2',\n        'block_learnerscript/datatables/jquery.dataTables',\n        'block_learnerscript/smartfilter',\n        'block_learnerscript/flatpickr',\n        'core/str',\n        'jqueryui',\n        'block_learnerscript/bootstrapnotify/bootstrapnotify',\n    ],\n    function($, Ajax, report, reportwidget, schedule, helper, ajax, select2, dataTable,\n        smartfilter, flatpickr, Str) {\n        return {\n            init: function() {\n                    $(document).ajaxStop(function() {\n                         $(\".loader\").fadeOut(\"slow\");\n                    });\n                    helper.Select2Ajax({});\n                    $(\".dashboardcourses\").change(function() {\n                        var courseid = $(this).val();\n                        $(\".report_courses\").val(courseid);\n                        reportwidget.DashboardTiles();\n                        reportwidget.DashboardWidgets();\n                        $(\".viewmore\").each(function() {\n                            $(this).attr('href');\n                        });\n                    });\n\n                $.ui.dialog.prototype._focusTabbable = $.noop;\n                var DheaderPosition = $(\"#dashboard-header\").position();\n                $(\".sidenav\").offset({top: 0});\n                $(\"#internalbsm\").offset({top: DheaderPosition.top});\n                /**\n                 * Select2 Options\n                 */\n                $(\"select[data-select2='1']\").select2();\n                helper.Select2Ajax({\n                    action: 'reportlist',\n                    multiple: true\n                });\n\n                /** \n                 * Custom report report help text\n                 */\n                $(document).on('click', \".customreporthelptext\", function() {\n                    var reportid = $(this).data('reportid');\n                    report.block_statistics_help(reportid);\n                });\n\n                $(document).on('change', \".schuserroleslist\", function(e) {\n                    var reportid = $(this).data('reportid');\n                    var reportinstance = $(this).data('reportinstance');\n                    schedule.rolewiseusers({reportid: reportid, reportinstance: reportinstance});\n                });\n\n                /**\n                 * Add schedule form users for widget\n                 */\n\n                $(document).on('change', \".schusers_data\", function(e) {\n                    var reportid = $(this).data('reportid');\n                    var reportinstance = $(this).data('reportinstance');\n                    schedule.addschusers({reportid: reportid, reportinstance: reportinstance});\n                });\n                \n\n                $(document).on('change', \"select[name='frequency']\", function(e) {\n                    var reportid = $(this).data('reportid');\n                    var reportinstance = $(this).data('reportinstance');\n                    schedule.frequency_schedule({reportid: reportid, reportinstance: reportinstance});\n                });\n            \n                /**\n                 * Menu option for report widget on dashboard\n                 */\n                \n                $(document).on('click', \".report_schedule\", function(e) {\n                    const reportSchedules = document.querySelectorAll('.report_schedule');\n                            var reportid = $(this).data('reportid');\n                            var instanceid = $(this).data('instanceid');\n                            var method = $(this).data('method');\n                            require(['block_reportdashboard/reportdashboard'], function(reportdashboard) {\n                                if (typeof reportdashboard[method] === 'function') {\n                                    reportdashboard[method]({\n                                        reportid: reportid,\n                                        instanceid: instanceid\n                                    });\n                                } else {\n                                    console.error(`Method ${method} does not exist on reportdashboard`);\n                                }\n                                e.preventDefault();\n                                e.stopImmediatePropagation();\n                                e.stopPropagation();\n                            });\n                });\n               /**\n                * Filter area\n                */\n                $(document).on('click', \".filterform #id_filter_clear\", function() {\n                    $(this).parents('.mform').trigger(\"reset\");\n                    var activityelement = $(this).parents('.mform').find('#id_filter_activities');\n                    var instancelement = $(this).parents('.block_reportdashboard').find('.report_dashboard_container');\n                    var reportid = instancelement.data('reportid');\n                    var reporttype = instancelement.data('reporttype');\n                    var instanceid = instancelement.data('blockinstance');\n                    smartfilter.CourseActivities({courseid: 0, element: activityelement});\n                    $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\n                    $('.filterform')[0].reset();\n                    $(\".filterform #id_filter_clear\").attr('disabled', 'disabled');\n                    reportwidget.CreateDashboardwidget({reportid: reportid, reporttype: reporttype, instanceid: instanceid});\n                });\n                $(document).on('change', \"select[name='filter_coursecategories']\", function() {\n                    var categoryid = this.value;\n                    var courseelement = $(this).closest('.mform').find('#id_filter_courses');\n                    if (courseelement.length != 0) {\n                        smartfilter.categoryCourses({categoryid: categoryid, element: courseelement});\n                    }\n                });\n                $(document).on('change', \"select[name='filter_courses']\", function() {\n                    var courseid = this.value;\n                    var activityelement = $(this).closest('.mform').find('#id_filter_activities');\n                    if (activityelement.length != 0) {\n                        smartfilter.CourseActivities({courseid: courseid, element: activityelement});\n                    }\n                });\n                /**\n                 * Duration Filter\n                 */\n                flatpickr('#customrange', {\n                    mode: 'range',\n                    onOpen: function(selectedDates, dateStr, instance) {\n                        instance.clear();\n                    },\n                    onClose: function(selectedDates) {\n                        $('#lsfstartdate').val(selectedDates[0].getTime() / 1000);\n                        $('#lsfenddate').val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\n                        require(['block_learnerscript/reportwidget'], function() {\n                            reportwidget.DashboardTiles();\n                            reportwidget.DashboardWidgets();\n                        });\n                    }\n                });\n                /**\n                 * Escape dropdown on click of window\n                 * @param {object} event\n                 */\n                window.onclick = function(event) {\n                    if (!event.target.matches('.dropbtn')) {\n                        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\n                        var i;\n                        for (i = 0; i < dropdowns.length; i++) {\n                            var openDropdown = dropdowns[i];\n                            if ($(openDropdown).hasClass('show')) {\n                                $(openDropdown).toggleClass('show');\n                            }\n                        }\n                    }\n                };\n            },\n            sendreportemail: function(args) {\n                Str.get_strings([{\n                    key: 'sendemail',\n                    component: 'block_reportdashboard'\n                }]).then(function(s) {\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\n                    args.nodeContent = 'sendreportemail' + args.instanceid;\n                    args.action = 'sendreportemail';\n                    args.title = s;\n                    var AjaxForms = require('block_learnerscript/ajaxforms');\n                    AjaxForms.init(args, url);\n                });\n            },\n            reportfilter: function(args) {\n                var self = this;\n                if ($('.report_filter_' + args.instanceid).length < 1) {\n                    var promise = Ajax.call([{\n                        methodname: 'block_learnerscript_reportfilter',\n                        args: {\n                            action: 'reportfilter',\n                            reportid: args.reportid,\n                            instance: args.instanceid\n                        }\n                    }]);\n                    promise[0].done(function(resp) {\n                        $('body').append(\"<div class='report_filter_\" + args.instanceid +\n                        \"' style='display:none;'>\" + resp + \"</div>\");\n                        $(\"select[data-select2-ajax='1']\").each(function() {\n                            if (!$(this).hasClass('select2-hidden-accessible')) {\n                                helper.Select2Ajax({});\n                            }\n                        });\n                        self.reportFilterFormModal(args);\n                         $('.filterform' + args.instanceid + ' .fitemtitle').hide();\n                          $('.filterform' + args.instanceid + ' .felement').attr('style', 'margin:0');\n                    });\n                } else {\n                    self.reportFilterFormModal(args);\n                }\n            },\n            reportFilterFormModal: function(args) {\n                Str.get_string('reportfilters', 'block_reportdashboard'\n                ).then(function(s) {\n                    var titleimg = \"<img class='dialog_title_icon' alt='Filter' src='\" +\n                        M.util.image_url(\"reportfilter\", \"block_reportdashboard\") + \"'/>\";\n                    $(\".report_filter_\" + args.instanceid).dialog({\n                        title: s,\n                        dialogClass: 'reportfilter-popup',\n                        modal: true,\n                        resizable: true,\n                        autoOpen: true,\n                        draggable: false,\n                        width: 420,\n                        height: 'auto',\n                        appendTo: \"#inst\" + args.instanceid,\n                        position: {\n                            my: \"center\",\n                            at: \"center\",\n                            of: \"#inst\" + args.instanceid,\n                            within: \"#inst\" + args.instanceid\n                        },\n                        open: function() {\n                        $(this).closest(\".ui-dialog\")\n                            .find(\".ui-dialog-titlebar-close\")\n                            .removeClass(\"ui-dialog-titlebar-close\")\n                            .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\n                            var Closebutton = $('.ui-icon-closethick').parent();\n                            $(Closebutton).attr({\n                                \"title\": \"Close\"\n                            });\n\n                        $(this).closest(\".ui-dialog\")\n                            .find('.ui-dialog-title').html(titleimg + s);\n\n                        /* Submit button */\n                        $(\".report_filter_\" + args.instanceid + \" form  #id_filter_apply\").click(function(e) {\n                            e.preventDefault();\n                            e.stopImmediatePropagation();\n                            if ($(\"#reportcontainer\" + args.instanceid).html().length > 0) {\n                                args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\n                            } else {\n                                args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\n                            }\n                            args.container = '#reporttype_' + args.reportid;\n\n                            require(['block_learnerscript/reportwidget'], function(reportwidget) {\n                                reportwidget.CreateDashboardwidget({reportid: args.reportid,\n                                                             reporttype: args.reporttype,\n                                                             instanceid: args.instanceid});\n                                $(\".report_filter_\" + args.instanceid).dialog('close');\n                            });\n                            $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").removeAttr('disabled');\n                        });\n                    }\n                });\n                $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").click(function(e) {\n                    e.preventDefault();\n                    $(\".filterform\" + args.instanceid + \" select[data-select2-ajax='1']\").val('0').trigger('change');\n                    $('.filterform' + args.instanceid).trigger(\"reset\");\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\n                        reportwidget.DashboardWidgets(args);\n                        $(\".report_filter_\" + args.instanceid).dialog('close');\n                    });\n                    $(\".report_filter_\" + args.instanceid).dialog('close');\n                });\n            });\n            },\n            DeleteWidget: function(args) {\n                Str.get_string('deletewidget', 'block_reportdashboard'\n                ).then(function(s) {\n                    $(\"#delete_dialog\" + args.instanceid).dialog({\n                        resizable: true,\n                        autoOpen: true,\n                        width: 460,\n                        height: 210,\n                        title: s,\n                        modal: true,\n                        appendTo: \"#inst\" + args.instanceid,\n                        position: {\n                            my: \"center\",\n                            at: \"center\",\n                            of: \"#inst\" + args.instanceid,\n                            within: \"#inst\" + args.instanceid\n                        },\n                        open: function() {\n                            $(this).closest(\".ui-dialog\")\n                                .find(\".ui-dialog-titlebar-close\")\n                                .removeClass(\"ui-dialog-titlebar-close\")\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\n                                var Closebutton = $('.ui-icon-closethick').parent();\n                                $(Closebutton).attr({\n                                    \"title\": \"Close\"\n                                });\n                        }\n                    });\n                });\n            },\n            /**\n             * Schedule report form in popup in dashboard\n             * @param  {object} args reportid\n             */\n            schreportform: function(args) {\n                Str.get_string('schedulereport', 'block_reportdashboard'\n                ).then(function(s) {\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\n                    args.title = s;\n                    args.nodeContent = 'schreportform' + args.instanceid;\n                    args.action = 'schreportform';\n                    args.courseid = $('[name=\"filter_courses\"]').val();\n                    var AjaxForms = require('block_learnerscript/ajaxforms');\n                    AjaxForms.init(args, url);\n                });\n            }\n        };\n    });\n"],"names":["define","$","Ajax","report","reportwidget","schedule","helper","ajax","select2","dataTable","smartfilter","flatpickr","Str","init","document","ajaxStop","fadeOut","Select2Ajax","change","courseid","this","val","DashboardTiles","DashboardWidgets","each","attr","ui","dialog","prototype","_focusTabbable","noop","DheaderPosition","position","offset","top","action","multiple","on","reportid","data","block_statistics_help","e","reportinstance","rolewiseusers","addschusers","frequency_schedule","querySelectorAll","instanceid","method","require","reportdashboard","console","error","preventDefault","stopImmediatePropagation","stopPropagation","parents","trigger","activityelement","find","instancelement","reporttype","CourseActivities","element","reset","CreateDashboardwidget","categoryid","value","courseelement","closest","length","categoryCourses","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","getTime","window","onclick","event","target","matches","i","dropdowns","getElementsByClassName","openDropdown","hasClass","toggleClass","sendreportemail","args","get_strings","key","component","then","s","url","M","cfg","wwwroot","nodeContent","title","reportfilter","self","call","methodname","done","resp","append","reportFilterFormModal","hide","get_string","titleimg","util","image_url","dialogClass","modal","resizable","autoOpen","draggable","width","height","appendTo","my","at","of","within","open","removeClass","html","Closebutton","parent","click","container","removeAttr","DeleteWidget","schreportform"],"mappings":"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"}